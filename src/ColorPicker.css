/* Color Picker Styles */

/* Enhanced base styles for better visual hierarchy */
:root {
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --border-radius-sm: 0.375rem;
  --border-radius-md: 0.5rem;
  --border-radius-lg: 0.75rem;
  --border-radius-xl: 1rem;
  
  /* Neutral warm color palette */
  --neutral-50: #fafaf9;
  --neutral-100: #f5f5f4;
  --neutral-200: #e7e5e4;
  --neutral-300: #d6d3d1;
  --neutral-400: #a8a29e;
  --neutral-500: #78716c;
  --neutral-600: #57534e;
  --neutral-700: #44403c;
  --neutral-800: #292524;
  --neutral-900: #1c1917;
  
  /* Warm accent colors */
  --warm-50: #fefce8;
  --warm-100: #fef3c7;
  --warm-200: #fde68a;
  --warm-300: #fcd34d;
  --warm-400: #fbbf24;
  --warm-500: #f59e0b;
  --warm-600: #d97706;
  --warm-700: #b45309;
  --warm-800: #92400e;
  --warm-900: #78350f;
  
  /* Subtle warm highlights */
  --warm-highlight: rgba(245, 158, 11, 0.1);
  --warm-glow: rgba(245, 158, 11, 0.2);
}

/* Enhanced container styling */
.picker-content {
  background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow-2xl);
  backdrop-filter: blur(10px);
  padding: clamp(16px, 2.5vw, 24px);
}

/* Enhanced background and layout styles */
body {
  background: linear-gradient(135deg, var(--neutral-900) 0%, var(--neutral-800) 50%, var(--neutral-700) 100%);
  background-attachment: fixed;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Mouse-following light effect */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle 800px at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(245, 158, 11, 0.25) 0%,
    rgba(245, 158, 11, 0.15) 20%,
    rgba(245, 158, 11, 0.08) 40%,
    rgba(245, 158, 11, 0.04) 60%,
    rgba(245, 158, 11, 0.02) 80%,
    transparent 90%
  );
  pointer-events: none;
  z-index: 1;
  transition: all 0.2s ease-out;
}

/* Add a second layer for color variation */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle 600px at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(251, 191, 36, 0.15) 0%,
    rgba(251, 191, 36, 0.08) 25%,
    rgba(251, 191, 36, 0.04) 45%,
    rgba(251, 191, 36, 0.02) 65%,
    transparent 80%
  );
  pointer-events: none;
  z-index: 1;
  transition: all 0.25s ease-out;
  animation: colorShift 6s ease-in-out infinite;
}

@keyframes colorShift {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
}

/* Ensure content is above the light effect */
.min-h-screen {
  position: relative;
  z-index: 2;
}

/* Ensure menu items are visible above background effects */
.menu-item-reveal {
  z-index: 10;
  position: relative;
}

/* Enhanced palette container styling */
.bg-neutral-700 {
  background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow-xl);
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.bg-neutral-700:hover {
  transform: translateZ(0) translateY(-2px);
  box-shadow: var(--shadow-2xl);
  border-color: rgba(255, 255, 255, 0.2);
}

/* Enhanced palette selection styling */
.bg-neutral-600 {
  background: linear-gradient(135deg, var(--neutral-600) 0%, var(--neutral-500) 100%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: var(--shadow-xl);
  backdrop-filter: blur(10px);
}

.bg-neutral-600:hover {
  background: linear-gradient(135deg, var(--neutral-500) 0%, var(--neutral-400) 100%);
  transform: translateZ(0) translateY(-2px);
  box-shadow: var(--shadow-2xl);
  border-color: rgba(255, 255, 255, 0.25);
}

/* Enhanced new palette frame styling */
.bg-neutral-800 {
  background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow-lg);
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.bg-neutral-800:hover {
  transform: translateZ(0) translateY(-1px);
  box-shadow: var(--shadow-xl);
  border-color: rgba(255, 255, 255, 0.2);
}

/* HiDPI-aware slider styles */
.color-slider {
    width: 100%;
    height: clamp(8px, 1.5vw, 12px); /* Responsive height with min/max bounds */
    -webkit-appearance: none;
    appearance: none;
    outline: none;
    border-radius: clamp(4px, 0.75vw, 6px);
    cursor: pointer;
    /* Ensure smooth rendering on HiDPI */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

.color-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: clamp(16px, 3vw, 24px); /* Responsive thumb size */
    height: clamp(16px, 3vw, 24px);
    border-radius: 50%;
    background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
    border: clamp(2px, 0.4vw, 3px) solid #513b37;
    cursor: pointer;
    box-shadow: 0 clamp(2px, 0.4vw, 4px) clamp(4px, 0.8vw, 8px) rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
    /* Ensure crisp rendering on HiDPI */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    transition: all 0.2s ease;
}

.color-slider::-webkit-slider-thumb:hover {
    transform: translateZ(0) scale(1.1);
    box-shadow: 0 clamp(3px, 0.6vw, 6px) clamp(6px, 1.2vw, 12px) rgba(0, 0, 0, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.2);
}

.color-slider::-moz-range-thumb {
    width: clamp(16px, 3vw, 24px);
    height: clamp(16px, 3vw, 24px);
    border-radius: 50%;
    background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
    border: clamp(2px, 0.4vw, 3px) solid #374151;
    cursor: pointer;
    box-shadow: 0 clamp(2px, 0.4vw, 4px) clamp(4px, 0.8vw, 8px) rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
    /* Ensure crisp rendering on HiDPI */
    transform: translateZ(0);
    transition: all 0.2s ease;
}

.color-slider::-moz-range-thumb:hover {
    transform: translateZ(0) scale(1.1);
    box-shadow: 0 clamp(3px, 0.6vw, 6px) clamp(6px, 1.2vw, 12px) rgba(0, 0, 0, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.2);
}

/* HiDPI-aware track styling */
.color-slider::-webkit-slider-track {
    -webkit-appearance: none;
    appearance: none;
    height: clamp(8px, 1.5vw, 12px);
    border-radius: clamp(4px, 0.75vw, 6px);
    /* Ensure smooth rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

.color-slider::-moz-range-track {
    height: clamp(8px, 1.5vw, 12px);
    border-radius: clamp(4px, 0.75vw, 6px);
    /* Ensure smooth rendering */
    transform: translateZ(0);
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Color wheel canvas styles */
.color-wheel-canvas {
    cursor: crosshair;
    border: clamp(1px, 0.2vw, 2px) solid #525252;
    border-radius: clamp(8px, 1.5vw, 12px);
    /* Ensure crisp rendering on HiDPI */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    box-shadow: var(--shadow-lg);
}

/* Color chip styles with HiDPI support */
.color-chip {
    position: relative;
    height: clamp(48px, 8vw, 64px);
    border-radius: clamp(4px, 0.75vw, 6px);
    cursor: pointer;
    border: clamp(2px, 0.4vw, 3px) solid #525252;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-sm);
}

.color-chip:hover {
    border-color: #a3a3a3;
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.color-chip.editing {
    border-color: #ffffff;
    box-shadow: 0 clamp(4px, 0.8vw, 8px) clamp(8px, 1.5vw, 16px) rgba(0, 0, 0, 0.3), 0 0 0 2px rgba(255, 255, 255, 0.2);
}

.color-chip-name {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(10px, 1.8vw, 14px);
    font-weight: 500;
    text-align: center;
    padding: clamp(4px, 0.8vw, 6px);
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.color-chip-remove {
    position: absolute;
    top: clamp(-8px, -1.5vw, -12px);
    right: clamp(-8px, -1.5vw, -12px);
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    border-radius: 50%;
    width: clamp(20px, 3.5vw, 28px);
    height: clamp(20px, 3.5vw, 28px);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
}

.color-chip-remove:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
    transform: translateZ(0) scale(1.1);
    box-shadow: var(--shadow-lg);
}

.color-chip:hover .color-chip-remove {
    opacity: 1;
}

.color-chip-group:hover .color-chip-remove {
    opacity: 1;
}

/* Color swatch styles with HiDPI support */
.color-swatch {
    width: clamp(48px, 8vw, 64px);
    height: clamp(48px, 8vw, 64px);
    border-radius: clamp(6px, 1vw, 8px);
    border: clamp(2px, 0.4vw, 3px) solid #525252;
    box-shadow: var(--shadow-lg);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.color-swatch:hover {
    transform: translateZ(0) scale(1.02);
    box-shadow: var(--shadow-xl);
}

.color-swatch-large {
    width: clamp(100px, 15vw, 160px);
    height: clamp(100px, 15vw, 160px);
    min-width: clamp(100px, 15vw, 160px);
    border-radius: clamp(10px, 1.5vw, 12px);
    border: 0px solid #fff;
    box-shadow: var(--shadow-2xl);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    position: relative;
    overflow: hidden;
}

.color-swatch-large::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%, rgba(0, 0, 0, 0.1) 100%);
    pointer-events: none;
    border-radius: inherit;
}

@media (min-width: 640px) {
    .color-swatch-large {
        width: clamp(120px, 18vw, 180px);
        height: clamp(120px, 18vw, 180px);
        min-width: clamp(120px, 18vw, 180px);
    }
}

.color-square-canvas {
    width: 100%;
    height: 100%;
    display: block;
    border-radius: clamp(6px, 1vw, 8px);
    border: clamp(1px, 0.2vw, 2px) solid #525252;
    box-shadow: var(--shadow-xl);
    max-width: 100%;
    box-sizing: border-box;
    background-color: #404040 !important; /* Make canvas completely opaque */
    /* Ensure crisp rendering on HiDPI */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Additional specificity to ensure canvas background is applied */
canvas.color-square-canvas {
    background-color: #404040 !important;
    background-image: none !important;
}

/* Container background to prevent any grid showing through */
.color-square-canvas {
    background-color: #404040 !important;
    background-image: none !important;
}

.color-square-canvas:hover {
    box-shadow: var(--shadow-2xl);
    transform: translateZ(0) scale(1.01);
}

/* Responsive layout adjustments for zoomed/constrained viewports */
@media (max-width: 1024px) {
    .color-picker-compact-layout .color-square-canvas {
        margin-top: 0;
        height: 120px !important;
        min-height: 120px;
    }
    
    .color-picker-compact-layout .input-hex {
        padding: clamp(4px, 0.8vw, 8px) clamp(8px, 1.5vw, 12px);
        font-size: clamp(10px, 1.8vw, 12px);
    }
    
    .color-picker-compact-layout .color-swatch-large {
        width: clamp(70px, 12vw, 90px);
        height: clamp(70px, 12vw, 90px);
        min-width: clamp(70px, 12vw, 90px);
    }
}

@media (max-width: 768px) {
    .color-picker-compact-layout .color-square-canvas {
        /* Keep existing styles but remove aspect-ratio constraints */
    }
    
    .color-picker-compact-layout .input-hex {
        padding: clamp(3px, 0.6vw, 6px) clamp(6px, 1.2vw, 10px);
        font-size: clamp(9px, 1.6vw, 11px);
    }
    
    .color-picker-compact-layout .color-swatch-large {
        width: clamp(50px, 10vw, 70px);
        height: clamp(50px, 10vw, 70px);
        min-width: clamp(50px, 10vw, 70px);
    }
}

/* Compact layout specific styles */
.color-picker-compact-layout .color-square-canvas {
    margin-top: 0;
    border-radius: clamp(4px, 0.75vw, 6px);
    box-shadow: 0 clamp(1px, 0.2vw, 2px) clamp(4px, 0.8vw, 8px) rgba(0,0,0,0.2);
    height: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.color-picker-compact-layout .input-hex {
    padding: clamp(3px, 0.6vw, 6px) clamp(6px, 1.2vw, 10px);
    font-size: clamp(10px, 1.8vw, 12px);
    border-radius: clamp(3px, 0.5vw, 4px);
    min-width: clamp(120px, 20vw, 180px);
}

.color-picker-compact-layout .color-swatch-large {
    border-radius: clamp(4px, 0.75vw, 6px);
    box-shadow: 0 clamp(2px, 0.4vw, 4px) clamp(6px, 1vw, 12px) rgba(0,0,0,0.3);
}

/* Ensure proper spacing in compact layout */
.color-picker-compact-layout .flex.flex-row {
    gap: clamp(6px, 1vw, 12px);
    align-items: flex-start;
}

/* Ensure color square container respects resizable menu bounds */
.color-picker-compact-layout .flex-1 {
    min-width: 0;
}

.color-picker-compact-layout .flex-shrink-0 {
    flex-shrink: 0;
}

/* Additional spacing for compact layout to prevent overlap */
.color-picker-compact-layout .space-y-3 > * + * {
    margin-top: clamp(12px, 2vw, 16px);
}

/* Ensure color square container has proper dimensions in compact mode */
.color-picker-compact-layout .w-full[style*="height: 120px"] {
    min-height: 120px;
    height: 120px;
}

.color-picker-compact-layout .w-full[style*="height: 120px"] .color-square-canvas {
    height: 120px;
    min-height: 120px;
}

/* Button styles with HiDPI support */
.btn-primary {
    background: linear-gradient(135deg, var(--neutral-600) 0%, var(--neutral-500) 100%);
    color: white;
    padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
    border-radius: clamp(6px, 1vw, 8px);
    font-size: clamp(14px, 2.5vw, 16px);
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-primary:hover::before {
    left: 100%;
}

.btn-primary:hover {
    background: linear-gradient(135deg, var(--neutral-500) 0%, var(--neutral-400) 100%);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-success {
    background: linear-gradient(135deg, var(--warm-600) 0%, var(--warm-700) 100%);
    color: white;
    padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
    border-radius: clamp(6px, 1vw, 8px);
    font-size: clamp(14px, 2.5vw, 16px);
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.btn-success::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-success:hover::before {
    left: 100%;
}

.btn-success:hover {
    background: linear-gradient(135deg, var(--warm-700) 0%, var(--warm-800) 100%);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-danger {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
    border-radius: clamp(6px, 1vw, 8px);
    font-size: clamp(14px, 2.5vw, 16px);
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.btn-danger::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-danger:hover::before {
    left: 100%;
}

.btn-danger:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-secondary {
    background: linear-gradient(135deg, var(--neutral-500) 0%, var(--neutral-400) 100%);
    color: white;
    padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
    border-radius: clamp(6px, 1vw, 8px);
    font-size: clamp(14px, 2.5vw, 16px);
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.btn-secondary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-secondary:hover::before {
    left: 100%;
}

.btn-secondary:hover {
    background: linear-gradient(135deg, var(--neutral-400) 0%, var(--neutral-300) 100%);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-purple {
    background: linear-gradient(135deg, var(--warm-500) 0%, var(--warm-600) 100%);
    color: white;
    padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
    border-radius: clamp(6px, 1vw, 8px);
    font-size: clamp(14px, 2.5vw, 16px);
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp rendering */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: hidden;
}

.btn-purple::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-purple:hover::before {
    left: 100%;
}

.btn-purple:hover {
    background: linear-gradient(135deg, var(--warm-600) 0%, var(--warm-700) 100%);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-sm {
    padding: clamp(4px, 0.8vw, 8px) clamp(8px, 1.5vw, 16px);
    font-size: clamp(12px, 2vw, 14px);
}

/* Input styles with HiDPI support */
.input-hex {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: clamp(1px, 0.2vw, 2px) solid var(--neutral-500);
    border-radius: clamp(4px, 0.75vw, 6px);
    color: var(--neutral-100);
    padding: clamp(6px, 1.2vw, 10px) clamp(12px, 2vw, 16px);
    font-size: clamp(14px, 2.5vw, 16px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    box-shadow: var(--shadow-sm);
    position: relative;
}

.input-hex:focus {
    border-color: var(--warm-500);
    outline: none;
    box-shadow: 0 0 0 clamp(2px, 0.4vw, 3px) var(--warm-glow), var(--shadow-md);
    transform: translateZ(0) translateY(-1px);
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
}

.input-hex:hover {
    border-color: var(--neutral-400);
    box-shadow: var(--shadow-md);
}

@media (min-width: 640px) {
    .input-hex {
        padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 24px);
        font-size: clamp(16px, 2.8vw, 18px);
    }
}

.input-palette-name {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: clamp(1px, 0.2vw, 2px) solid var(--neutral-500);
    border-radius: clamp(4px, 0.75vw, 6px);
    color: var(--neutral-100);
    padding: clamp(6px, 1.2vw, 10px) clamp(12px, 2vw, 16px);
    font-size: clamp(14px, 2.5vw, 16px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: var(--shadow-sm);
    position: relative;
}

.input-palette-name:focus {
    border-color: var(--warm-500);
    outline: none;
    box-shadow: 0 0 0 clamp(2px, 0.4vw, 3px) var(--warm-glow), var(--shadow-md);
    transform: translateZ(0) translateY(-1px);
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
}

.input-palette-name:hover {
    border-color: var(--neutral-400);
    box-shadow: var(--shadow-md);
}

/* Slider label styles with HiDPI support */
.slider-label {
    font-size: clamp(12px, 2vw, 14px);
    font-weight: 600;
    min-width: clamp(16px, 3vw, 24px);
    text-align: center;
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.slider-label.red {
    color: #ef4444;
}

.slider-label.green {
    color: #10b981;
}

.slider-label.blue {
    color: #3b82f6;
}

.slider-label.yellow {
    color: #f59e0b;
}

.slider-label.purple {
    color: #8b5cf6;
}

.slider-label.orange {
    color: #f97316;
}

.slider-value {
    font-size: clamp(10px, 1.8vw, 12px);
    font-weight: 500;
    color: #9ca3af;
    min-width: clamp(32px, 6vw, 48px);
    text-align: center;
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Enhanced slider value input styling */
.slider-value-input {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid var(--neutral-500);
    border-radius: 4px;
    color: var(--neutral-100);
    font-size: 12px;
    padding: 2px 4px;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: var(--shadow-sm);
}

.slider-value-input:focus {
    border-width: 2px !important;
    border-style: solid !important;
    outline: none !important;
    box-shadow: var(--shadow-md);
    transform: translateZ(0) translateY(-1px);
}

/* Enhanced floating generate button */
.fixed.bottom-8.right-8 button {
    box-shadow: var(--shadow-2xl);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: transparent !important;
}

.fixed.bottom-8.right-8 button:hover {
    transform: translateZ(0) scale(1.1);
    box-shadow: 0 25px 50px -12px var(--warm-glow);
    border-color: rgba(255, 255, 255, 0.3);
    background: transparent !important;
}

/* Enhanced menu items */
.menu-item-reveal {
    border: 1px solid rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-lg);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: #f3f4f6 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    background: transparent !important;
}

.menu-item-reveal:hover {
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-xl);
    border-color: rgba(255, 255, 255, 0.2);
    color: #ffffff !important;
    background: transparent !important;
}

/* Animated icon for menu items */
.menu-item-reveal svg {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.menu-item-reveal:hover svg {
    transform: scale(1.1);
    filter: brightness(1.2);
}

/* Enhanced delete confirmation dialog */
.bg-neutral-800.rounded-lg.p-6 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-2xl);
    backdrop-filter: blur(20px);
}

/* Enhanced palette creation input */
.border-2.border-purple-500\/30 {
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
    border: 2px solid var(--warm-glow);
    box-shadow: var(--shadow-xl);
    backdrop-filter: blur(10px);
}

/* Enhanced instruction boxes */
.absolute.top-1\/4.left-8.bg-neutral-800 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-2xl);
    backdrop-filter: blur(20px);
}

/* Enhanced color count indicator */
.text-neutral-400.text-sm.bg-neutral-800 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(10px);
}

/* Enhanced plus button for adding colors */
.border-dashed.border-neutral-600 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 2px dashed var(--neutral-500);
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.border-dashed.border-neutral-600:hover {
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
    border-color: var(--neutral-400);
    transform: translateZ(0) translateY(-2px);
    box-shadow: var(--shadow-xl);
}

/* Color name display with HiDPI support */
.color-name-display {
    font-family: 'Mansfield', sans-serif;
    font-size: clamp(16px, 3vw, 24px);
    font-weight: 700;
    color: #f3f4f6;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    letter-spacing: -0.01em;
    line-height: 1.2;
}

.color-name-display::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.color-name-display:hover::after {
    width: 100%;
}

.color-name-display:hover, .color-name-display:focus {
    color: #ffffff;
    text-shadow: 0 0 clamp(8px, 1.5vw, 16px) rgba(255, 255, 255, 0.3);
    transform: translateZ(0) translateY(-1px);
}

/* Drag and drop styles with HiDPI support */
.color-chip-dragging {
    opacity: 0.5;
    transform: rotate(5deg) scale(1.05);
    z-index: 1000;
}

.color-chip-drop-target {
    border-color: #f59e0b;
    box-shadow: 0 0 clamp(8px, 1.5vw, 16px) rgba(245, 158, 11, 0.5);
}

/* HiDPI-specific improvements */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Ensure even crisper rendering on HiDPI displays */
    .color-slider,
    .color-chip,
    .color-swatch,
    .color-swatch-large,
    .btn-primary,
    .btn-success,
    .btn-danger,
    .btn-secondary,
    .btn-purple,
    .input-hex,
    .input-palette-name {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
    }
    
    /* Improve text rendering on HiDPI */
    .color-chip-name,
    .slider-label,
    .slider-value,
    .color-name-display,
    .input-hex,
    .input-palette-name {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }
}

/* Touch-friendly improvements for high-DPI touch displays */
@media (pointer: coarse) {
    .color-slider::-webkit-slider-thumb {
        width: clamp(24px, 4.5vw, 32px);
        height: clamp(24px, 4.5vw, 32px);
    }
    
    .color-slider::-moz-range-thumb {
        width: clamp(24px, 4.5vw, 32px);
        height: clamp(24px, 4.5vw, 32px);
    }
    
    .color-chip-remove {
        width: clamp(28px, 5vw, 36px);
        height: clamp(28px, 5vw, 36px);
    }
    
    .btn-primary,
    .btn-success,
    .btn-danger,
    .btn-secondary,
    .btn-purple {
        min-height: clamp(44px, 8vw, 56px);
        min-width: clamp(44px, 8vw, 56px);
    }
}

/* Enhanced animations and micro-interactions */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.8) translateX(20px);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateX(0);
    filter: blur(0);
  }
}

/* Removed pulseGlow animation - no longer needed */

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Enhanced palette animations */
.space-y-4 > div {
  animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 0;
}

.space-y-4 > div:nth-child(1) { animation-delay: 0.1s; }
.space-y-4 > div:nth-child(2) { animation-delay: 0.2s; }
.space-y-4 > div:nth-child(3) { animation-delay: 0.3s; }
.space-y-4 > div:nth-child(4) { animation-delay: 0.4s; }
.space-y-4 > div:nth-child(5) { animation-delay: 0.5s; }

/* Enhanced color chip animations */
.color-chip {
  animation: fadeInScale 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Enhanced button press animation */
.btn-primary:active,
.btn-success:active,
.btn-danger:active,
.btn-secondary:active,
.btn-purple:active {
  transform: translateZ(0) translateY(0) scale(0.98);
  transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced input focus animation - removed glow */
.input-hex:focus,
.input-palette-name:focus {
  transform: translateZ(0) translateY(-1px);
}

/* Enhanced color swatch hover effect */
.color-swatch-large:hover::before {
  animation: shimmer 2s ease-in-out infinite;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.1) 25%, 
    rgba(255, 255, 255, 0.2) 50%, 
    rgba(255, 255, 255, 0.1) 75%, 
    transparent 100%);
  background-size: 200% 100%;
}

@keyframes menuLineGrow {
  0% { 
    height: 0;
    opacity: 0;
  }
  100% { 
    height: 340px;
    opacity: 1;
  }
}

@keyframes paletteSelectionBorder {
  0% { border-color: #ff0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); } /* Red */
  16.666% { border-color: #ff8000; box-shadow: 0 0 20px rgba(255, 128, 0, 0.6); } /* Orange */
  33.333% { border-color: #ffff00; box-shadow: 0 0 20px rgba(255, 255, 0, 0.6); } /* Yellow */
  50% { border-color: #00ff00; box-shadow: 0 0 20px rgba(0, 255, 0, 0.6); } /* Green */
  66.666% { border-color: #0080ff; box-shadow: 0 0 20px rgba(0, 128, 255, 0.6); } /* Blue */
  83.333% { border-color: #8000ff; box-shadow: 0 0 20px rgba(128, 0, 255, 0.6); } /* Purple */
  100% { border-color: #ff0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); } /* Back to red */
}

@keyframes generateButtonFluid {
  0% { 
    background-color: #7c3aed;
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4);
  }
  15% { 
    background-color: #8b5cf6;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
  }
  30% { 
    background-color: #a855f7;
    box-shadow: 0 4px 16px rgba(168, 85, 247, 0.4);
  }
  45% { 
    background-color: #6366f1;
    box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
  }
  55% { 
    background-color: #84cc16;
    box-shadow: 0 4px 16px rgba(132, 204, 22, 0.4);
  }
  65% { 
    background-color: #ea580c;
    box-shadow: 0 4px 16px rgba(234, 88, 12, 0.4);
  }
  75% { 
    background-color: #6366f1;
    box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
  }
  85% { 
    background-color: #a855f7;
    box-shadow: 0 4px 16px rgba(168, 85, 247, 0.4);
  }
  95% { 
    background-color: #8b5cf6;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
  }
  100% { 
    background-color: #7c3aed;
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4);
  }
}

@keyframes colorCycle {
  0% { color: #ff0000; } /* Red */
  16.666% { color: #ff8000; } /* Orange */
  33.333% { color: #ffff00; } /* Yellow */
  50% { color: #00ff00; } /* Green */
  66.666% { color: #0080ff; } /* Blue */
  83.333% { color: #8000ff; } /* Purple */
  100% { color: #ff0000; } /* Back to red */
}

@keyframes borderColorCycle {
  0% { border-color: #ff0000; } /* Red */
  16.666% { border-color: #ff8000; } /* Orange */
  33.333% { border-color: #ffff00; } /* Yellow */
  50% { border-color: #00ff00; } /* Green */
  66.666% { border-color: #0080ff; } /* Blue */
  83.333% { border-color: #8000ff; } /* Purple */
  100% { border-color: #ff0000; } /* Back to red */
}

/* Enhanced menu line animation */
.menu-line-growing {
  animation: menuLineGrow 0.4s ease-out forwards;
}

/* Enhanced menu item reveal with stagger */
.menu-item-reveal {
  animation: fadeInScale 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 1;
  transform: scale(1) translateX(0);
}

.menu-bullet {
  animation: fadeInScale 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  opacity: 1;
  transform: scale(1);
}

/* Enhanced palette selection border animation */
.palette-selection-border {
  animation: paletteSelectionBorder 2s linear infinite;
}

/* Enhanced color cycle text with glow */
.color-cycle-text {
  animation: colorCycle 3s linear infinite;
  font-weight: bold;
  font-style: italic;
  text-shadow: 0 0 10px currentColor;
}

/* Removed glow animation - no longer needed */

/* Enhanced color cycle border without glow */
.color-cycle-border {
  animation: borderColorCycle 3s linear infinite;
  border-width: 3px !important;
  border-style: solid !important;
}

/* Enhanced slider thumb hover effect - removed glow */
.color-slider::-webkit-slider-thumb:hover {
  transform: translateZ(0) scale(1.1);
}

.color-slider::-moz-range-thumb:hover {
  transform: translateZ(0) scale(1.1);
}

/* Enhanced delete button animation - removed glow */
.color-chip-remove:hover {
  transform: translateZ(0) scale(1.1);
}

/* Enhanced floating button animation - removed glow */
.fixed.bottom-8.right-8 button {
  animation: generateButtonFluid 20s ease-in-out infinite;
}

.fixed.bottom-8.right-8 button:hover {
  animation: generateButtonFluid 20s ease-in-out infinite;
}

/* Enhanced color name display animation */
.color-name-display:hover::after {
  animation: shimmer 2s ease-in-out infinite;
  background: linear-gradient(90deg, var(--warm-500), var(--warm-600), var(--warm-700), var(--warm-600), var(--warm-500));
  background-size: 200% 100%;
}

/* Enhanced palette expansion animation */
.space-y-4 > div[style*="grid"] {
  animation: fadeInScale 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Enhanced drag and drop feedback - removed glow */
.color-chip-dragging {
  opacity: 0.5;
  transform: rotate(5deg) scale(1.05);
  z-index: 1000;
}

.color-chip-drop-target {
  border-color: #f59e0b;
  box-shadow: 0 0 clamp(8px, 1.5vw, 16px) rgba(245, 158, 11, 0.5);
}

/* Enhanced loading states */
.loading {
  position: relative;
  overflow: hidden;
}

.loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Enhanced focus ring for accessibility - removed glow */
.color-slider:focus,
.input-hex:focus,
.input-palette-name:focus,
.btn-primary:focus,
.btn-success:focus,
.btn-danger:focus,
.btn-secondary:focus,
.btn-purple:focus {
  outline: clamp(2px, 0.4vw, 3px) solid var(--warm-500);
  outline-offset: clamp(2px, 0.4vw, 3px);
}

/* Enhanced reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .color-slider,
  .color-chip,
  .color-swatch,
  .color-swatch-large,
  .btn-primary,
  .btn-success,
  .btn-danger,
  .btn-secondary,
  .btn-purple,
  .input-hex,
  .input-palette-name,
  .color-name-display,
  .space-y-4 > div,
  .menu-item-reveal,
  .color-cycle-text,
  .color-cycle-border,
  .palette-selection-border,
  .fixed.bottom-8.right-8 button,
  body::before {
    animation: none !important;
    transition: none !important;
  }
  
  .color-chip-dragging {
    transform: none;
  }
  
  .color-name-display::after {
    display: none;
  }
  
  .color-swatch-large::before {
    display: none;
  }
  
  .btn-primary::before,
  .btn-success::before,
  .btn-danger::before,
  .btn-secondary::before,
  .btn-purple::before {
    display: none;
  }
}

/* Enhanced color contrast and accessibility */
/* Improved contrast for better accessibility */
@media (prefers-contrast: high) {
    .color-slider::-webkit-slider-thumb,
    .color-slider::-moz-range-thumb {
        border-width: clamp(3px, 0.6vw, 4px);
        border-color: #000000;
        background: #ffffff;
    }
    
    .color-chip,
    .color-swatch,
    .color-swatch-large {
        border-width: clamp(3px, 0.6vw, 4px);
        border-color: #000000;
    }
    
    .input-hex,
    .input-palette-name {
        border-width: clamp(2px, 0.4vw, 3px);
        border-color: #000000;
        background: #ffffff;
        color: #000000;
    }
    
    .btn-primary,
    .btn-success,
    .btn-danger,
    .btn-secondary,
    .btn-purple {
        border: 2px solid #000000;
    }
    
    .color-name-display {
        color: #000000;
        text-shadow: none;
    }
    
    .slider-label,
    .slider-value {
        color: #000000;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .slider-label.red { color: #ff0000; }
    .slider-label.green { color: #00ff00; }
    .slider-label.blue { color: #0000ff; }
    .slider-label.yellow { color: #ffff00; }
    .slider-label.purple { color: #800080; }
    .slider-label.orange { color: #ffa500; }
}

/* Enhanced focus indicators */
.color-slider:focus-visible,
.input-hex:focus-visible,
.input-palette-name:focus-visible,
.btn-primary:focus-visible,
.btn-success:focus-visible,
.btn-danger:focus-visible,
.btn-secondary:focus-visible,
.btn-purple:focus-visible,
.color-name-display:focus-visible {
    outline: 3px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 4px;
}

/* Enhanced keyboard navigation */
.color-chip:focus-visible,
.color-swatch:focus-visible,
.color-swatch-large:focus-visible {
    outline: 3px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 4px;
    transform: translateZ(0) scale(1.05);
}

/* Enhanced screen reader support */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Enhanced color contrast for text */
.color-chip-name {
    /* Enhanced text shadow for better readability */
    text-shadow: 
        0 1px 2px rgba(0, 0, 0, 0.8),
        0 0 4px rgba(0, 0, 0, 0.5);
    font-weight: 700;
}

/* Enhanced button contrast */
.btn-primary {
    background: linear-gradient(135deg, var(--neutral-500) 0%, var(--neutral-400) 100%);
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.btn-success {
    background: linear-gradient(135deg, var(--warm-700) 0%, var(--warm-800) 100%);
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.btn-danger {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.btn-secondary {
    background: linear-gradient(135deg, var(--neutral-400) 0%, var(--neutral-300) 100%);
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.btn-purple {
    background: linear-gradient(135deg, var(--warm-600) 0%, var(--warm-700) 100%);
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Enhanced input contrast */
.input-hex,
.input-palette-name {
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
    color: var(--neutral-100);
    border-color: var(--neutral-400);
}

.input-hex:focus,
.input-palette-name:focus {
    background: linear-gradient(135deg, var(--neutral-600) 0%, var(--neutral-500) 100%);
    color: #ffffff;
    border-color: var(--warm-500);
}

/* Enhanced slider contrast */
.color-slider::-webkit-slider-thumb {
    background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
    border: clamp(2px, 0.4vw, 3px) solid var(--neutral-700);
    box-shadow: 
        0 clamp(2px, 0.4vw, 4px) clamp(4px, 0.8vw, 8px) rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.2),
        inset 0 1px 2px rgba(255, 255, 255, 0.8);
}

.color-slider::-moz-range-thumb {
    background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
    border: clamp(2px, 0.4vw, 3px) solid var(--neutral-700);
    box-shadow: 
        0 clamp(2px, 0.4vw, 4px) clamp(4px, 0.8vw, 8px) rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.2),
        inset 0 1px 2px rgba(255, 255, 255, 0.8);
}

/* Enhanced color name display contrast */
.color-name-display {
    color: var(--neutral-100);
    text-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.5),
        0 0 8px rgba(0, 0, 0, 0.3);
}

.color-name-display:hover,
.color-name-display:focus {
    color: #ffffff;
    text-shadow: 
        0 0 clamp(8px, 1.5vw, 16px) rgba(255, 255, 255, 0.4),
        0 2px 4px rgba(0, 0, 0, 0.5);
}

/* Enhanced slider label contrast */
.slider-label {
    color: var(--neutral-100);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.slider-label.red { 
    color: #fca5a5; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}
.slider-label.green { 
    color: #86efac; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}
.slider-label.blue { 
    color: #93c5fd; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}
.slider-label.yellow { 
    color: #fde047; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}
.slider-label.purple { 
    color: #c4b5fd; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}
.slider-label.orange { 
    color: #fdba74; 
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Enhanced slider value contrast */
.slider-value {
    color: var(--neutral-300);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Enhanced palette container contrast */
.bg-neutral-700 {
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 
        var(--shadow-xl),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.bg-neutral-600 {
    background: linear-gradient(135deg, var(--neutral-600) 0%, var(--neutral-500) 100%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
        var(--shadow-xl),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.bg-neutral-800 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
        var(--shadow-lg),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* Enhanced floating button contrast */
.fixed.bottom-8.right-8 button {
    background: linear-gradient(135deg, var(--warm-500) 0%, var(--warm-600) 50%, var(--warm-700) 100%);
    box-shadow: 
        var(--shadow-2xl),
        0 0 0 1px rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* Enhanced menu item contrast */
.menu-item-reveal {
    background: linear-gradient(135deg, rgba(41, 37, 36, 0.95) 0%, rgba(68, 64, 60, 0.95) 100%);
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: 
        var(--shadow-lg),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Enhanced delete button contrast */
.color-chip-remove {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    box-shadow: 
        var(--shadow-md),
        0 0 0 1px rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.color-chip-remove:hover {
    background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
    box-shadow: 
        var(--shadow-lg),
        0 0 0 1px rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.3);
}

/* Enhanced color count indicator contrast */
.text-neutral-400.text-sm.bg-neutral-800 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: var(--neutral-300);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Enhanced plus button contrast */
.border-dashed.border-neutral-600 {
    background: linear-gradient(135deg, var(--neutral-800) 0%, var(--neutral-700) 100%);
    border: 2px dashed var(--neutral-500);
    color: var(--neutral-300);
}

.border-dashed.border-neutral-600:hover {
    background: linear-gradient(135deg, var(--neutral-700) 0%, var(--neutral-600) 100%);
    border-color: var(--neutral-400);
    color: var(--neutral-100);
}

/* Enhanced typography and spacing */
/* Improved heading styles */
h1 {
  font-family: 'Mansfield', sans-serif;
  font-weight: 900;
  letter-spacing: -0.02em;
  line-height: 0.9;
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

h2 {
  font-family: 'Mansfield', sans-serif;
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.2;
}

h3 {
  font-family: 'Mansfield', sans-serif;
  font-weight: 600;
  letter-spacing: -0.005em;
  line-height: 1.3;
}

/* Enhanced text rendering */
* {
  text-rendering: optimizeLegibility;
  -webkit-font-feature-settings: "kern" 1;
  font-feature-settings: "kern" 1;
}

/* Enhanced color name display typography */
.color-name-display {
    font-family: 'Mansfield', sans-serif;
    font-size: clamp(16px, 3vw, 24px);
    font-weight: 700;
    color: #f3f4f6;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    letter-spacing: -0.01em;
    line-height: 1.2;
}

/* Enhanced color chip name typography */
.color-chip-name {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Mansfield', sans-serif;
    font-size: clamp(10px, 1.8vw, 14px);
    font-weight: 600;
    text-align: center;
    padding: clamp(4px, 0.8vw, 6px);
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    letter-spacing: -0.005em;
    line-height: 1.1;
}

/* Enhanced input typography */
.input-hex,
.input-palette-name {
    font-family: 'Mansfield', sans-serif;
    font-weight: 500;
    letter-spacing: 0.01em;
    line-height: 1.4;
}

/* Enhanced button typography */
.btn-primary,
.btn-success,
.btn-danger,
.btn-secondary,
.btn-purple {
    font-family: 'Mansfield', sans-serif;
    font-weight: 600;
    letter-spacing: 0.01em;
    line-height: 1.4;
}

/* Enhanced slider label typography */
.slider-label {
    font-family: 'Mansfield', sans-serif;
    font-size: clamp(12px, 2vw, 14px);
    font-weight: 700;
    min-width: clamp(16px, 3vw, 24px);
    text-align: center;
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.01em;
    line-height: 1.2;
}

/* Enhanced slider value typography */
.slider-value {
    font-family: 'Mansfield', sans-serif;
    font-size: clamp(10px, 1.8vw, 12px);
    font-weight: 600;
    color: #9ca3af;
    min-width: clamp(32px, 6vw, 48px);
    text-align: center;
    /* Ensure crisp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.02em;
    line-height: 1.2;
}

/* Enhanced spacing improvements */
.space-y-3 > * + * {
    margin-top: clamp(12px, 2vw, 16px);
}

.space-y-4 > * + * {
    margin-top: clamp(16px, 2.5vw, 20px);
}

.space-y-6 > * + * {
    margin-top: clamp(24px, 3vw, 32px);
}

/* Enhanced padding improvements */
.p-3 {
    padding: clamp(12px, 2vw, 16px);
}

.p-4 {
    padding: clamp(16px, 2.5vw, 20px);
}

.p-6 {
    padding: clamp(24px, 3vw, 32px);
}

/* Enhanced gap improvements */
.gap-2 {
    gap: clamp(8px, 1.5vw, 12px);
}

.gap-3 {
    gap: clamp(12px, 2vw, 16px);
}

.gap-4 {
    gap: clamp(16px, 2.5vw, 20px);
}

.gap-8 {
    gap: clamp(32px, 4vw, 48px);
}

/* Enhanced margin improvements */
.mb-2 {
    margin-bottom: clamp(8px, 1.5vw, 12px);
}

.mb-4 {
    margin-bottom: clamp(16px, 2.5vw, 20px);
}

.mb-6 {
    margin-bottom: clamp(24px, 3vw, 32px);
}

.ml-2 {
    margin-left: clamp(8px, 1.5vw, 12px);
}

.ml-4 {
    margin-left: clamp(16px, 2.5vw, 20px);
}

/* Enhanced container spacing */
.picker-content {
    padding: clamp(16px, 2.5vw, 24px);
}

/* Enhanced palette spacing */
.rounded-lg.p-3.sm\:p-4 {
    padding: clamp(12px, 2vw, 16px) clamp(16px, 2.5vw, 20px);
}

/* Enhanced button spacing */
.px-3.py-2 {
    padding: clamp(8px, 1.5vw, 12px) clamp(12px, 2vw, 16px);
}

.px-4.py-2 {
    padding: clamp(12px, 2vw, 16px) clamp(16px, 2.5vw, 20px);
}

/* Enhanced input spacing */
.px-3.py-2 {
    padding: clamp(8px, 1.5vw, 12px) clamp(12px, 2vw, 16px);
}

/* Enhanced responsive spacing */
@media (min-width: 640px) {
    .space-y-3 > * + * {
        margin-top: clamp(16px, 2.5vw, 20px);
    }
    
    .space-y-4 > * + * {
        margin-top: clamp(20px, 3vw, 24px);
    }
    
    .space-y-6 > * + * {
        margin-top: clamp(32px, 4vw, 40px);
    }
    
    .p-3 {
        padding: clamp(16px, 2.5vw, 20px);
    }
    
    .p-4 {
        padding: clamp(20px, 3vw, 24px);
    }
    
    .p-6 {
        padding: clamp(32px, 4vw, 40px);
    }
}

@media (min-width: 1024px) {
    .space-y-3 > * + * {
        margin-top: clamp(20px, 3vw, 24px);
    }
    
    .space-y-4 > * + * {
        margin-top: clamp(24px, 3.5vw, 28px);
    }
    
    .space-y-6 > * + * {
        margin-top: clamp(40px, 5vw, 48px);
    }
    
    .p-3 {
        padding: clamp(20px, 3vw, 24px);
    }
    
    .p-4 {
        padding: clamp(24px, 3.5vw, 28px);
    }
    
    .p-6 {
        padding: clamp(40px, 5vw, 48px);
    }
}

/* 
  ================================================================================
  ANIMATIONS
  This section contains all the @keyframes for animations used in the application.
  ================================================================================
*/

/*
 * @animation colorCycle
 * Purpose: Cycles the color of text through a rainbow sequence.
 * Usage: Apply the `.color-cycle-text` class to any text element.
 */
@keyframes colorCycle {
  0% { color: #ff0000; } /* Red */
  16.666% { color: #ff8000; } /* Orange */
  33.333% { color: #ffff00; } /* Yellow */
  50% { color: #00ff00; } /* Green */
  66.666% { color: #0080ff; } /* Blue */
  83.333% { color: #8000ff; } /* Purple */
  100% { color: #ff0000; } /* Back to red */
}

/*
 * @animation borderColorCycle
 * Purpose: Cycles the border color of an element through a rainbow sequence.
 *          This is a key animation for indicating a "selected" or "active" state.
 * Usage: Apply the `.color-cycle-border` class. This is used for the currently
 *        selected color chip and for focused input fields.
 */
@keyframes borderColorCycle {
  0% { border-color: #ff0000; } /* Red */
  16.666% { border-color: #ff8000; } /* Orange */
  33.333% { border-color: #ffff00; } /* Yellow */
  50% { border-color: #00ff00; } /* Green */
  66.666% { border-color: #0080ff; } /* Blue */
  83.333% { border-color: #8000ff; } /* Purple */
  100% { border-color: #ff0000; } /* Back to red */
}

/*
 * @animation paletteSelectionBorder
 * Purpose: A more prominent version of the border animation with an added box shadow.
 * Usage: Apply the `.palette-selection-border` class. Used when the user is in
 *        "palette selection mode" to highlight the palette being hovered over.
 */
@keyframes paletteSelectionBorder {
  0% { border-color: #ff0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); } /* Red */
  16.666% { border-color: #ff8000; box-shadow: 0 0 20px rgba(255, 128, 0, 0.6); } /* Orange */
  33.333% { border-color: #ffff00; box-shadow: 0 0 20px rgba(255, 255, 0, 0.6); } /* Yellow */
  50% { border-color: #00ff00; box-shadow: 0 0 20px rgba(0, 255, 0, 0.6); } /* Green */
  66.666% { border-color: #0080ff; box-shadow: 0 0 20px rgba(0, 128, 255, 0.6); } /* Blue */
  83.333% { border-color: #8000ff; box-shadow: 0 0 20px rgba(128, 0, 255, 0.6); } /* Purple */
  100% { border-color: #ff0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); } /* Back to red */
}

/*
 * @animation generateButtonFluid
 * Purpose: Creates a fluid, shifting background color and box shadow effect.
 * Usage: Used on various menu elements like `.menu-vertical-bar` and `.menu-bullet`
 *        to create a dynamic, "live" feel.
 */
@keyframes generateButtonFluid {
  0% { 
    background-color: #7c3aed;
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4);
  }
  15% { 
    background-color: #8b5cf6;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
  }
  30% { 
    background-color: #a855f7;
    box-shadow: 0 4px 16px rgba(168, 85, 247, 0.4);
  }
  45% { 
    background-color: #6366f1;
    box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
  }
  55% { 
    background-color: #84cc16;
    box-shadow: 0 4px 16px rgba(132, 204, 22, 0.4);
  }
  65% { 
    background-color: #ea580c;
    box-shadow: 0 4px 16px rgba(234, 88, 12, 0.4);
  }
  75% { 
    background-color: #6366f1;
    box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
  }
  85% { 
    background-color: #a855f7;
    box-shadow: 0 4px 16px rgba(168, 85, 247, 0.4);
  }
  95% { 
    background-color: #8b5cf6;
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.4);
  }
  100% { 
    background-color: #7c3aed;
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4);
  }
}

/*
 * @animation barGlowFluid, barGlowOnly
 * Purpose: Creates a glowing effect for bar-like elements, with and without
 *          a shifting background color.
 * Usage: Used to add visual flair to UI elements.
 */
@keyframes barGlowFluid {
  0% { 
    background-color: #7c3aed;
    box-shadow: 0 0 40px rgba(124, 58, 237, 1), 0 0 80px rgba(124, 58, 237, 0.6);
  }
  15% { 
    background-color: #8b5cf6;
    box-shadow: 0 0 40px rgba(139, 92, 246, 1), 0 0 80px rgba(139, 92, 246, 0.6);
  }
  30% { 
    background-color: #a855f7;
    box-shadow: 0 0 40px rgba(168, 85, 247, 1), 0 0 80px rgba(168, 85, 247, 0.6);
  }
  45% { 
    background-color: #6366f1;
    box-shadow: 0 0 40px rgba(99, 102, 241, 1), 0 0 80px rgba(99, 102, 241, 0.6);
  }
  55% { 
    background-color: #84cc16;
    box-shadow: 0 0 40px rgba(132, 204, 22, 1), 0 0 80px rgba(132, 204, 22, 0.6);
  }
  65% { 
    background-color: #ea580c;
    box-shadow: 0 0 40px rgba(234, 88, 12, 1), 0 0 80px rgba(234, 88, 12, 0.6);
  }
  75% { 
    background-color: #6366f1;
    box-shadow: 0 0 40px rgba(99, 102, 241, 1), 0 0 80px rgba(99, 102, 241, 0.6);
  }
  85% { 
    background-color: #a855f7;
    box-shadow: 0 0 40px rgba(168, 85, 247, 1), 0 0 80px rgba(168, 85, 247, 0.6);
  }
  95% { 
    background-color: #8b5cf6;
    box-shadow: 0 0 40px rgba(139, 92, 246, 1), 0 0 80px rgba(139, 92, 246, 0.6);
  }
  100% { 
    background-color: #7c3aed;
    box-shadow: 0 0 40px rgba(124, 58, 237, 1), 0 0 80px rgba(124, 58, 237, 0.6);
  }
}
@keyframes barGlowOnly {
  0% { 
    box-shadow: 0 -8px 20px rgba(124, 58, 237, 1), 0 8px 20px rgba(124, 58, 237, 1), 0 0 40px rgba(124, 58, 237, 0.8);
  }
  15% { 
    box-shadow: 0 -8px 20px rgba(139, 92, 246, 1), 0 8px 20px rgba(139, 92, 246, 1), 0 0 40px rgba(139, 92, 246, 0.8);
  }
  30% { 
    box-shadow: 0 -8px 20px rgba(168, 85, 247, 1), 0 8px 20px rgba(168, 85, 247, 1), 0 0 40px rgba(168, 85, 247, 0.8);
  }
  45% { 
    box-shadow: 0 -8px 20px rgba(99, 102, 241, 1), 0 8px 20px rgba(99, 102, 241, 1), 0 0 40px rgba(99, 102, 241, 0.8);
  }
  55% { 
    box-shadow: 0 -8px 20px rgba(132, 204, 22, 1), 0 8px 20px rgba(132, 204, 22, 1), 0 0 40px rgba(132, 204, 22, 0.8);
  }
  65% { 
    box-shadow: 0 -8px 20px rgba(234, 88, 12, 1), 0 8px 20px rgba(234, 88, 12, 1), 0 0 40px rgba(234, 88, 12, 0.8);
  }
  75% { 
    box-shadow: 0 -8px 20px rgba(99, 102, 241, 1), 0 8px 20px rgba(99, 102, 241, 1), 0 0 40px rgba(99, 102, 241, 0.8);
  }
  85% { 
    box-shadow: 0 -8px 20px rgba(168, 85, 247, 1), 0 8px 20px rgba(168, 85, 247, 1), 0 0 40px rgba(168, 85, 247, 0.8);
  }
  95% { 
    box-shadow: 0 -8px 20px rgba(139, 92, 246, 1), 0 8px 20px rgba(139, 92, 246, 1), 0 0 40px rgba(139, 92, 246, 0.8);
  }
  100% { 
    box-shadow: 0 -8px 20px rgba(124, 58, 237, 1), 0 8px 20px rgba(124, 58, 237, 1), 0 0 40px rgba(124, 58, 237, 0.8);
  }
}

/*
 * @animation fadeInUp
 * Purpose: A simple fade-in and move-up animation.
 * Usage: Can be applied to elements that should appear with a subtle animation.
 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/*
 * @animation barGrow
 * Purpose: Animates an element growing vertically from the bottom.
 * Usage: Apply `.menu-line-growing` for menu-related line animations.
 */
@keyframes barGrow {
  from {
    transform: translateX(-50%) scaleY(0);
  }
  to {
    transform: translateX(-50%) scaleY(1);
  }
}

/* 
  ================================================================================
  ANIMATION CLASSES
  These classes apply the @keyframes defined above.
  ================================================================================
*/

.color-cycle-text {
  animation: colorCycle 3s linear infinite;
  font-weight: bold;
  font-style: italic;
}

.color-cycle-border {
  animation: borderColorCycle 3s linear infinite;
  border-width: 3px !important;
  border-style: solid !important;
}

.palette-selection-border {
  animation: paletteSelectionBorder 2s linear infinite;
  border-width: 4px !important;
  border-style: solid !important;
  transform: scale(1.05);
}

.menu-line-growing {
  animation: barGrow 0.5s ease-out forwards;
  transform-origin: bottom;
}

.input-hex:focus,
.input-palette-name:focus {
  animation: borderColorCycle 3s linear infinite;
  border-width: 2px !important;
  border-style: solid !important;
  outline: none !important;
}

.slider-value-input {
  background: #262626;
  border: 1px solid #525252;
  border-radius: 4px;
  color: #f3f4f6;
  font-size: 12px;
  padding: 2px 4px;
  text-align: center;
  transition: all 0.2s ease;
}

.slider-value-input:focus {
  animation: borderColorCycle 3s linear infinite;
  border-width: 2px !important;
  border-style: solid !important;
  outline: none !important;
}

/* Resize handle - centered on edge for easy grabbing */
.resize-handle {
  position: absolute;
  top: 0;
  right: -12px;
  width: 24px;
  height: 100%;
  cursor: ew-resize;
  background: transparent;
  z-index: 10;
  pointer-events: auto;
}

.resize-handle:hover ~ .picker-content {
  border-right: 3px solid;
  animation: borderColorCycle 3s linear infinite;
}

/* Prevent text selection during resize */
.resizing {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Menu elements with fluid color animation */
.menu-vertical-bar {
  animation: generateButtonFluid 20s ease-in-out infinite;
  opacity: 0.3;
}

.menu-bullet {
  animation: generateButtonFluid 20s ease-in-out infinite;
}
